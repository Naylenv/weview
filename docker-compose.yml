services:
  weview:
    build: .
    container_name: weview
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      - ./uploads:/app/uploads

  # Cloudflare Tunnel - 可选，用于域名访问
  # 1. 在 Cloudflare Zero Trust 创建 Tunnel，获取 Token
  # 2. 复制 .env.example 为 .env，填入 Token
  # 3. 取消下面的注释
  #
  # cloudflared:
  #   image: cloudflare/cloudflared:latest
  #   container_name: cloudflared
  #   restart: unless-stopped
  #   command: tunnel --no-autoupdate run
  #   environment:
  #     - TUNNEL_TOKEN=${TUNNEL_TOKEN}
  #   depends_on:
  #     - weview
